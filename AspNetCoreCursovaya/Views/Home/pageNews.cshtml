@using AspNetCoreCursovaya.helpingClasses;
@model PaginatedList<News>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>

    <partial name="header" />


    <main>

        <p style="margin-top: 1%; margin-left: 7%;"><a style="color: black; text-decoration: none;" href="news.html">Новости</a> > Смешно, но солнечных дней все меньше</p>
        <div class="container_from_Pnews" style="display: flex; justify-content: space-between;">
            <div class="container_left_FromPnews">
                <h3 style="color: #522473; margin-top: 3%;"><b>@Model.SingleOrDefault(p => p.IdNews == ViewBag.Id).TitleNews</b></h3>
                <p style="font-size: 20px; margin-top: 5%;">
                    @Model.SingleOrDefault(p => p.IdNews == ViewBag.Id).TextNews
                </p>

                <div class="image_from_Pnews" style="margin-top: 10%;">
                    <img src="/image/@Model.SingleOrDefault(p => p.IdNews == ViewBag.Id).PhotoInNews.SingleOrDefault(p => p.IdNews == ViewBag.Id).Link.ToString()" alt="">
                </div>

                <div class="icon_from_Pnews" style="margin-top: 15%;">

                    @if (User.Identity.IsAuthenticated)
                    {
                        <a href="@Url.Action("changeNewsPage", "admin", new {newsId = ViewBag.Id})">
                            <svg width="33" height="53" viewBox="0 0 53 53" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <rect width="53" height="53" fill="url(#pattern0)" />
                                <defs>
                                    <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                                        <use xlink:href="#image0_149_2680" transform="scale(0.015625)" />
                                    </pattern>
                                    <image id="image0_149_2680" width="64" height="64" xlink:href="data:image/png;base64,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" />
                                </defs>
                            </svg>
                        </a>

                        <svg width="34" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <rect width="54" height="54" fill="url(#pattern0)" />
                            <defs>
                                <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                                    <use xlink:href="#image0_149_2678" transform="scale(0.015625)" />
                                </pattern>
                                <image id="image0_149_2678" width="64" height="64" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfnAw8DGBRC0RlhAAAEFklEQVR42u2cb0hkVRTAz52xLFZnZw11Sd22nTGhxYhdwSUqWPwTJrWr07QLRbkrWdSs6by1iChoWRDWnQUdN/y37bAUyEoWK2TJSvQllEpWFmQVDU37oiyaYwaO792+OF8cxnp633vXOef39b1373nn/ebOOfOGC0AQBF6Y1QHopWIht+l8ank57NHO8rb2dvY6K4SRrCzLAmKwDK1zc5qXR+BWTc23p6cWAy/091udp/+LzeoA9MLe4U18ra3N8gcfhYMDfNnZtofYU3Cnvd3qcPSy6wSIJtzqMGK4AX/CfE6O1WHoZfcJQAglyeoARNPbOzkZCDDDapvKSrdbUTi3+j5FQSsAcnR/UqSrwrGzwy5E9wogXRWOnR12Ifq/AmStwrGzzS6EagDkCO8CjK7CsSO6C6EVADnCV4BE65MTHVoBkKNfgI2+0+rAiU28AVmQMTur9zLdAkR/cCARJGHjwfMMfkJ7rqZG7+XCq/X/qgGoS9gas/NHNQBySADkkADIkV6A6NvHilXXfeWrublKjztDSZ6dPdnt2qf8UFaWaOOZjfQCxLx93OHbL9nHMxvpBYj79nG7/8GTfTyTkV8AwlBIAOSQAMghAZBDAiCHBEAOCYAcEgA5JABySADkkADIIQGQQwIghwRADgmAHBIAOSQAckgA5JAAyCEBkEMCIIcEQA4JgBwSADkkAHJIAOSQAMiRX4B4W9Fsc08c6cczGekFiNmTaId74sg+ntmI3yPogusf5aXlZbjD8uGJ1NTNx9f99uftfQ7HrWfHv7g0EQ5bnQBZ8L5y6PEPP9i7V9Vs9nV1aSnmhKf5XZgIh3s/nXo40OdwiJpX+ArAC1kmPBJ/6Ut6O3JGGy4uFj3vbkdbts9EurfIi8Zq4e+ZGdHzCheAhfiP/MjAQLzjvJP9oiU3Nnq9T96s/zktTfT8u41oHvh9/hZbbWyMdx4/CvNsKX5et4t4ATgs8KauLliFWnhNVWOOX2afs0/y8lRtzWc7PjpacdLt8td7vWVud8u578QtbbISvU9Paa7Nf8DjUX9fG7S9PDQEj8EgvJmbG3PBRh6TbkAR77p2TXQ8hu3XVzHubvEvBoPsI2hhF30+o+ZJdPh5/i482tz8zTNT/oBSVyd6fMO6gKSPH9yf6lQUfgauQ/ngoKFZSkRGucKbbt9Ov+78MnyvocGoaexGDTw2ttDz02eqmh/ZX1Ya6u7m6ep7a+B0wgJkwrGCAngAhuGuTfo21DRe5Ffg1/V1fgJcUBAMpv/lDK2Eqqo6On8b6eiMRIya1vQtWz2nXd/X5xw+zK+yV21F1dUQhFPwR0kJ9HAfhA4ehDzmgeaUFLPjMo1x/jW8v7ICXtYKVdPT0eIu+h3f0zNZGzgyNmZ1mARBYOBfXVHn8HoR2RgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMTVUMDM6MjQ6MjArMDA6MDDFJSlGAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTE1VDAzOjI0OjIwKzAwOjAwtHiR+gAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMy0xNVQwMzoyNDoyMCswMDowMONtsCUAAAAASUVORK5CYII=" />
                            </defs>
                        </svg>
                    }
                    
                </div>

                <div style="width: 100%;" class="input_from_Pnews">
                    <form asp-action="addComment">
                        <div class="mb-3">
                            <input style="border: 2px solid #522473;" name="commentatorName" type="text" placeholder="Имя" class="form-control rounded-2 input_string w-100" id="exampleInputEmail1" aria-describedby="emailHelp">
                        </div>

                        <div class="form-floating" style="margin-bottom: 1%;">
                            <textarea class="form-control rounded-2 input_string w-100" placeholder="Leave a comment here" name="commentatorText" id="floatingTextarea2" style="height: 100px; border: 2px solid #522473;"></textarea>
                            <label for="floatingTextarea2">Текст обращения</label>
                        </div>

                        <input type="hidden" name="newsId" value="@ViewBag.Id" />
                        <input type="hidden" name="pageIndex" value="@Model.PageIndex" />
                        <a href="@Url.Action("addComment")"><button href="@Url.Action("addComment")" class="btn btn-secondary btn-sm w-50 rounded-3" name="commentatorText" style="background: #4BBFAA; color: #522473; border: 0px; float: right; font-size: 15px;">Опубликовать комментарий</button></a>
                    </form>
                </div>

                @*href="@Url.Action("addComment", new { newsId = ViewBag.Id })"*@

                <div class="comments_from_Pnews" style="margin-top: 15%;">
                    <h4 style="font-size: 30px;"><b>Комментарии:</b></h4>

                    @{
                        var List_coments = Model.SingleOrDefault(p => p.IdNews == ViewBag.Id).Comments.ToList();

                        foreach (var com in List_coments.AsEnumerable().Reverse())
                        {
                            <div class="comment" style="margin-top: 5%;">
                                <div class="nameDate_from_comment" style="display: flex;">
                                    <p><b>@com.NameCommentator</b></p>
                                    <p style="margin-left: 3%;">@com.DatePublication</p>
                                    <svg style="margin-left: 1%;" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <rect width="21" height="20" fill="url(#pattern0)" />
                                        <defs>
                                            <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                                                <use xlink:href="#image0_149_2677" transform="matrix(0.015625 0 0 0.0164063 0 -0.025)" />
                                            </pattern>
                                            <image id="image0_149_2677" width="64" height="64" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfnAw8DGBRC0RlhAAAEFklEQVR42u2cb0hkVRTAz52xLFZnZw11Sd22nTGhxYhdwSUqWPwTJrWr07QLRbkrWdSs6by1iChoWRDWnQUdN/y37bAUyEoWK2TJSvQllEpWFmQVDU37oiyaYwaO792+OF8cxnp633vXOef39b1373nn/ebOOfOGC0AQBF6Y1QHopWIht+l8ank57NHO8rb2dvY6K4SRrCzLAmKwDK1zc5qXR+BWTc23p6cWAy/091udp/+LzeoA9MLe4U18ra3N8gcfhYMDfNnZtofYU3Cnvd3qcPSy6wSIJtzqMGK4AX/CfE6O1WHoZfcJQAglyeoARNPbOzkZCDDDapvKSrdbUTi3+j5FQSsAcnR/UqSrwrGzwy5E9wogXRWOnR12Ifq/AmStwrGzzS6EagDkCO8CjK7CsSO6C6EVADnCV4BE65MTHVoBkKNfgI2+0+rAiU28AVmQMTur9zLdAkR/cCARJGHjwfMMfkJ7rqZG7+XCq/X/qgGoS9gas/NHNQBySADkkADIkV6A6NvHilXXfeWrublKjztDSZ6dPdnt2qf8UFaWaOOZjfQCxLx93OHbL9nHMxvpBYj79nG7/8GTfTyTkV8AwlBIAOSQAMghAZBDAiCHBEAOCYAcEgA5JABySADkkADIIQGQQwIghwRADgmAHBIAOSQAckgA5JAAyCEBkEMCIIcEQA4JgBwSADkkAHJIAOSQAMiRX4B4W9Fsc08c6cczGekFiNmTaId74sg+ntmI3yPogusf5aXlZbjD8uGJ1NTNx9f99uftfQ7HrWfHv7g0EQ5bnQBZ8L5y6PEPP9i7V9Vs9nV1aSnmhKf5XZgIh3s/nXo40OdwiJpX+ArAC1kmPBJ/6Ut6O3JGGy4uFj3vbkdbts9EurfIi8Zq4e+ZGdHzCheAhfiP/MjAQLzjvJP9oiU3Nnq9T96s/zktTfT8u41oHvh9/hZbbWyMdx4/CvNsKX5et4t4ATgs8KauLliFWnhNVWOOX2afs0/y8lRtzWc7PjpacdLt8td7vWVud8u578QtbbISvU9Paa7Nf8DjUX9fG7S9PDQEj8EgvJmbG3PBRh6TbkAR77p2TXQ8hu3XVzHubvEvBoPsI2hhF30+o+ZJdPh5/i482tz8zTNT/oBSVyd6fMO6gKSPH9yf6lQUfgauQ/ngoKFZSkRGucKbbt9Ov+78MnyvocGoaexGDTw2ttDz02eqmh/ZX1Ya6u7m6ep7a+B0wgJkwrGCAngAhuGuTfo21DRe5Ffg1/V1fgJcUBAMpv/lDK2Eqqo6On8b6eiMRIya1vQtWz2nXd/X5xw+zK+yV21F1dUQhFPwR0kJ9HAfhA4ehDzmgeaUFLPjMo1x/jW8v7ICXtYKVdPT0eIu+h3f0zNZGzgyNmZ1mARBYOBfXVHn8HoR2RgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMTVUMDM6MjQ6MjArMDA6MDDFJSlGAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTE1VDAzOjI0OjIwKzAwOjAwtHiR+gAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMy0xNVQwMzoyNDoyMCswMDowMONtsCUAAAAASUVORK5CYII=" />
                                        </defs>
                                    </svg>
                                </div>

                                <p>
                                    @com.TextComment
                                </p>
                            </div>
                        }
                    }

                    <a style="color: #4BBFAA; text-decoration: none;" href="">Показать больше комментариев...</a>
                </div>


            </div>

            <div class="container_right_FromPnews" style="margin-right: 7%;">
                @foreach (var New in Model)
                {
                    if (New.IdNews == ViewBag.Id)
                    {
                        continue;
                    }
                    <div class="card rounded-4" style="width: 18rem;">
                        <img style="padding: 10%; padding-bottom: 0%; height: 200px;" src="/image/@New.PhotoInNews.FirstOrDefault().Link.ToString()" class="card-img-top" alt="...">
                        <div class="card-body">
                            <a style="text-decoration:none" href="@Url.Action("pageNews", new { id = New.IdNews, numberOfPage = Model.PageIndex })"><h4 class="card-text">@New.TitleNews</h4></a>
                        </div>
                    </div>
                }
            </div>

        </div>

    </main>

    <partial name="footer" />

</body>
</html>